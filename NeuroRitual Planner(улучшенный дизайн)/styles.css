:root {
    font-size: 16px;
    --transition-fast: 0.2s ease;
    --transition-slow: 0.4s ease;
}

:root[data-theme="light"],
body[data-theme="light"] {
    --bg: #f3f5f9;
    --panel: rgba(255, 255, 255, 0.96);
    --panel-soft: rgba(255, 255, 255, 0.6);
    --text: #111522;
    --text-muted: #586079;
    --accent: #6b7bff;
    --accent-2: #8ce0ff;
    --accent-3: #f1a7ff;
    --border: rgba(17, 21, 34, 0.08);
    --shadow: 0 20px 45px rgba(17, 21, 34, 0.08);
    --success: #37c978;
    --danger: #ff6b6b;
}

:root[data-theme="dark"],
body[data-theme="dark"] {
    --bg: #070a0f;
    --panel: rgba(15, 20, 29, 0.94);
    --panel-soft: rgba(15, 20, 29, 0.62);
    --text: #f4f7ff;
    --text-muted: #9ca6c3;
    --accent: #8db0ff;
    --accent-2: #71f2ff;
    --accent-3: #f7a2ff;
    --border: rgba(255, 255, 255, 0.08);
    --shadow: 0 25px 55px rgba(0, 0, 0, 0.4);
    --success: #64ffb2;
    --danger: #ff8ba0;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Space Grotesk', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: radial-gradient(circle at top, rgba(140, 200, 255, 0.1), rgba(0, 0, 0, 0)) fixed, var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: clamp(12px, 2.6vw, 26px);
    position: relative;
    transition: background var(--transition-slow), color var(--transition-slow);
}

.noise-overlay {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="600" height="600" viewBox="0 0 600 600"%3E%3Cfilter id="n" x="0" y="0" width="1" height="1"%3E%3CfeTurbulence baseFrequency="0.6" numOctaves="2" stitchTiles="stitch" type="fractalNoise"/%3E%3C/filter%3E%3Crect width="600" height="600" filter="url(%23n)" opacity="0.07"/%3E%3C/svg%3E');
    z-index: 0;
}

.hero {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
    margin-bottom: 18px;
    position: relative;
    z-index: 1;
}

.hero--tight .hero__content { padding: 20px; gap: 16px; }

.hero__content {
    background: var(--panel);
    padding: clamp(20px, 2.4vw, 26px);
    border-radius: 22px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.hero__card {
    background: radial-gradient(circle at top, rgba(255, 255, 255, 0.12), rgba(8, 12, 18, 0.9));
    backdrop-filter: blur(12px);
    color: #fff;
    padding: clamp(20px, 2.2vw, 26px);
    border-radius: 22px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-height: 100%;
}

.hero__facts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 10px;
}

.fact-card {
    background: var(--panel-soft);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-height: 80px;
}

.hero__stats--compact {
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 8px;
}

main { display: flex; flex-direction: column; gap: 14px; }

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
    gap: 12px;
}

.grid--dashboard { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
.grid--analytics { grid-template-columns: repeat(auto-fit, minmax(210px, 1fr)); }
.grid--ultra-tight { gap: 10px; }
.grid--music { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }

.panel {
    background: var(--panel);
    border-radius: 20px;
    border: 1px solid var(--border);
    padding: clamp(14px, 1.8vw, 20px);
    box-shadow: var(--shadow);
}

.panel--micro { padding: clamp(12px, 1.4vw, 18px); border-radius: 16px; }
.panel__header { margin-bottom: 10px; }
.panel__header p { color: var(--text-muted); font-size: 0.85rem; }

.progress-layout { display: grid; grid-template-columns: 1fr 0.5fr; gap: 10px; align-items: center; }
.progress-layout--tight { grid-template-columns: 1fr; }
@media (min-width: 920px) { .progress-layout--tight { grid-template-columns: 1fr 0.5fr; } }

.progress-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(22px, 1fr)); gap: 4px; }
.progress-grid--dense { grid-template-columns: repeat(auto-fit, minmax(20px, 1fr)); }

.progress-day { border-radius: 10px; }
.donut-wrapper { max-width: 140px; }
.donut-wrapper--compact { max-width: 120px; }
#progress-ring { height: 130px; }
.chart-wrapper--mini { height: 130px; }

.grid--music .panel { min-height: 100%; }
.music-grid { gap: 10px; }
.music-card { padding: 10px; border-radius: 14px; }

.summary-metrics { grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 8px; }
.summary-card { padding: 10px; border-radius: 12px; }
.summary-card strong { font-size: 1.1rem; }

.settings--compact { gap: 8px; }
.toggle-row--compact { padding: 8px; border-radius: 12px; }
.settings__hint--compact { font-size: 0.78rem; }

footer { margin-top: 12px; }

.placeholder { font-size: 0.85rem; }

@media (max-width: 640px) {
    body { padding: 14px; }
    .hero__content, .hero__card, .panel { padding: 14px; }
    .grid { gap: 10px; }
}
